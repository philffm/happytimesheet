<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Timesheet</title>
    <meta name="description" content="Happy Timesheet is a Chrome extension that enhances your Dynamics 365 experience with friendly language, motivational quotes, and dynamic animations.">
    <meta name="keywords" content="Happy Timesheet, Dynamics 365, Chrome extension, motivational quotes, UI enhancements">
    <meta name="author" content="Phil Wornath">
    <link rel="stylesheet" href="style.css">
    <link rel="canonical" href="https://philffm.github.io/happytimesheet/">
    <link rel="alternate" hreflang="en" href="https://philffm.github.io/happytimesheet/?lang=en">
    <link rel="alternate" hreflang="es" href="https://philffm.github.io/happytimesheet/?lang=es">
    <link rel="alternate" hreflang="de" href="https://philffm.github.io/happytimesheet/?lang=de">
    <link rel="alternate" hreflang="fr" href="https://philffm.github.io/happytimesheet/?lang=fr">
    <link rel="alternate" hreflang="it" href="https://philffm.github.io/happytimesheet/?lang=it">
    <link rel="alternate" hreflang="pt" href="https://philffm.github.io/happytimesheet/?lang=pt">
    <link rel="alternate" hreflang="nl" href="https://philffm.github.io/happytimesheet/?lang=nl">
    <link rel="alternate" hreflang="ja" href="https://philffm.github.io/happytimesheet/?lang=ja">
    <script>
        async function loadContent(lang = 'en') {
            const response = await fetch('translations.json');
            const translations = await response.json();

            // Get the translation data for the selected language
            const data = translations[lang] || translations['en'];

            // Replace placeholders with translation data
            document.getElementById('title').textContent = data.title;
            document.getElementById('about').textContent = data.about;
            document.getElementById('aboutText').textContent = data.aboutText;
            document.getElementById('features').textContent = data.features;
            document.getElementById('featureList').innerHTML = data.featureList.map(item => `<li>${item}</li>`).join('');
            document.getElementById('proposeFeature').textContent = data.proposeFeature;
            document.getElementById('proposeFeatureText').textContent = data.proposeFeatureText;
            document.getElementById('privacyNote').textContent = data.privacyNote;
            document.getElementById('privacyNoteText').textContent = data.privacyNoteText;
            document.getElementById('funMessage').textContent = data.funMessage;
        }

        function changeLanguage(lang) {
            loadContent(lang);
            // Optionally update the URL without reloading the page
            const url = new URL(window.location);
            url.searchParams.set('lang', lang);
            window.history.pushState({}, '', url);
        }

        window.onload = () => {
            const urlParams = new URLSearchParams(window.location.search);
            const lang = urlParams.get('lang') || 'en';
            loadContent(lang);
        };
    </script>
</head>
<body>
    <header>
        <img src="logo.png" alt="Happy Timesheet Icon">
        <h1 id="title">Happy Timesheet</h1>
        <p id="aboutText"></p>
        <a class="chrome-store-button" target="_blank" href="https://chromewebstore.google.com/detail/happy-timesheet-spice-up/hhkmoomchoaiiejpifbldkecemonncop?hl=en">Get it on Chrome Web Store</a>
    </header>

    <!-- Windows 98 style buttons -->
    <section class="win98-buttons">
        <button class="win98-button">OK</button>
        <button class="win98-button">Cancel</button>
        <button class="win98-button">Apply</button>
    </section>

    <section class="language-section">
        <div class="language-buttons">
            <button onclick="changeLanguage('en')">🇬🇧 English</button>
            <button onclick="changeLanguage('es')">🇪🇸 Español</button>
            <button onclick="changeLanguage('de')">🇩🇪 Deutsch</button>
            <button onclick="changeLanguage('fr')">🇫🇷 Français</button>
            <button onclick="changeLanguage('it')">🇮🇹 Italiano</button>
            <button onclick="changeLanguage('pt')">🇵🇹 Português</button>
            <button onclick="changeLanguage('nl')">🇳🇱 Nederlands</button>
            <button onclick="changeLanguage('ja')">🇯🇵 日本語</button>
        </div>
    </section>

    <main>
        <section>
            <h2 id="about"></h2>
            <p id="aboutText"></p>
        </section>

        <section>
            <h2 id="features"></h2>
            <ul id="featureList"></ul>
        </section>

        <section>
            <h2 id="proposeFeature"></h2>
            <p id="proposeFeatureText"></p>
        </section>

        <section>
            <h2 id="privacyNote"></h2>
            <p id="privacyNoteText"></p>
        </section>

        <section>
            <p id="funMessage"></p>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Phil Wornath. All rights reserved. Visit the project at <a href="https://github.com/philffm/happytimesheet/">Happy Timesheet</a>.</p>
    </footer>
</body>
</html>
